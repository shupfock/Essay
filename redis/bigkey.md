### 什么是 bigkey

bigkey 是指 key 对应的 value 所占用的内存空间比较大, 例如一个字符串类型的 value 可以最大存在 512MB, 一个列表类型的 value 最多可以存储个元素

如果按照数据结构来细分的话, 一般分为字符串类型的 bigkey 和非字符串类型的 bigkey

字符串类型: 体现在单个 value 值很大, 一般认为超过 10KB 就是 bigkey

非字符串类型: 哈希, 列表, 集合, 有序集合体现在元素个数过多

bigkey 无论是在空间复杂度和时间复杂度都不太友好



### bigkey 的危害

bigkey 的危害体现在三个方面

1.   内存空间不均衡(平衡): 例如在 Redis Cluster 中, bigkey 会造成节点的内存空间使用不均匀
2.   超市阻塞: 由于 Redis 单线程的特性, 操作 bigkey 比较耗时, 也就意味着阻塞 Redis 可能性增大
3.   网络拥塞: 每次获取 bigkey 产生的网络流量较大

bigkey 的存在并不是完全致命的:

如果这个 bigkey 存在但是几乎不被访问, 那么只有内存空间不均匀的问题存在, 相对另外 2 个问题没有那么严重紧急.